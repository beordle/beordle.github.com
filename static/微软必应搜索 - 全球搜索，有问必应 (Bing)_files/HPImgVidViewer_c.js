var VM=new function(){function ft(n){n&&(n.style.display="block",n.tabIndex="0")}function h(n){n&&(n.style.display="none",n.tabIndex="-1")}function c(){ft(r),h(e)}function a(){h(r),ft(e)}function nt(n){if(_w.B_er)throw n;}function f(){try{n&&n.play&&n.play()}catch(t){nt(t)}}function l(){try{n&&n.pause&&n.pause()}catch(t){nt(t)}}function st(){c(),l()}function ht(){t===!0&&(a(),f())}function tt(n){var t=n?sj_be:sj_ue;ot?(d(),t(_d,u,d),t(_w,"unload",et)):(t(_w,"blur",st),t(_w,"focus",ht))}function d(){_d[o]?n.pause():t===!0&&f()}function et(){sj_ue(_d,u,d)}var it="hidden",s="Hidden",b="visibilitychange",w="undefined",p="ms",k="webkit",n,r=_ge("sh_pl"),e=_ge("sh_ps"),i,rt,o,u,t,v,y;this.Loaded=!1,this.InFoc=1,t=!0,this._autoPlay=!0;var g="hpVideoPause",ut=!1,ot=function(){if(typeof _d[it]!==w)o=it,u=b;else if(typeof _d[p+s]!==w)o=p+s,u=p+b;else if(typeof _d[k+s]!==w)o=k+s,u=k+b;else return!1;return!0}();r&&(v=r.parentNode,y=e.parentNode,sj_be(v,"click",function(){y.focus()}),sj_be(y,"click",function(){v.focus()})),this.hideControls=function(){h(r),h(e),tt(!1)},this.end=function(){c()},this.playAction=function(){this.play(),_w.g_hpLocal&&localStorage.removeItem(g)},this.pauseAction=function(){this.pause(),_w.g_hpLocal&&localStorage.setItemE(g,1,1440)},this.play=function(){a(),f(),t=!0},this.pause=function(){c(),l(),t=!1},this.fade=function(){!VM.Loaded&&VM.InFoc&&(VM._autoPlay?(f(),a()):(l(),c()),_anim.fadeE(n).up(),VM.Loaded=!0),_w.g_NPLE&&!--_w.g_NPLE&&sj_evt.fire("onRBComplete")},this.sa_vid_ld=function(r){var f,s,h,c,u,o,e;if(n=_ge("vid"),!VM.Loaded&&_w.g_vid&&n&&n.play){for(f=_w.g_vid,sj_be(n,"canplaythrough",function(){tt(!0),r?r():VM.fade(),i&&!ut&&(rt=sb_gt()-i,_w.hp_llog&&hp_llog("Video",rt),ut=!0)}),u=0;u<f.length;u++)if(!!(n.canPlayType&&n.canPlayType(f[u][1]).match(/^(probably|maybe)$/i))){h=f[u][1],s=f[u][2],i=sb_gt();break}if(c=_w.g_img.hdon&&_w.g_img.hdsup,c)for(u=0;u<f.length;u++)if(f[u][0]=="mp4hd"){h=f[u][1],s=f[u][2];break}if(i)n.type=h,n.src=s,_H.startTm&&!r&&_w.hp_llog&&hp_llog("VideoStart",i-_H.startTm);else return;sj_so(n,0),VM._autoPlay=!0,_w.g_hpLocal&&(o=localStorage.getItemE(g),o!=null&&o===1&&(VM._autoPlay=!1,t=!1)),e=sj_cook&&sj_cook.get("SRCHHPGUSR","HAP"),e&&e!="0"&&(VM._autoPlay=!1,t=!1)}}},ImgViewer;sj_evt.bind("onBgSet",function(){VM.Loaded===!1&&VM.sa_vid_ld()},1),ImgViewer=function(){function nu(){var n=_ge("hp_cellCenter");return n&&n.className.indexOf("hp_hd")!=-1&&typeof g_img!==u&&hp_defined(g_img.hdurl)&&g_img.url==g_img.hdurl?!0:!1}function rr(n,t,i){var r=sj_gx(),f=hp_pushparams(["format=js","idx="+n,"n="+t,"nc="+sb_gt(),"pid=hp"]),u;_w.g_vidOn&&f.push("video=1"),u="/HPImageArchive.aspx?"+f.join("&"),r.open("GET",u,!0),sj_be(r,"readystatechange",function(){r.readyState==4&&r.status==200&&(a=tu(r.responseText),ht=Math.min(fi,n+(a&&a.images&&a.images.length)||0),i(!!a))}),r.send(null)}function tu(n){if(typeof n!="string"||!n)return null;if(_w.JSON&&_w.JSON.parse)try{return _w.JSON.parse(n)}catch(t){}try{return new Function("return "+n)()}catch(t){return null}}function dr(){for(var n=0,t=a.images.length;n<t;n++)dt(n,n)}function dt(t,i){var u;if(n[t]=a.images[i]||null,eu){var f=Math.max(screen.height,screen.width),e=Math.min(screen.height,screen.width),r="//"+window.location.host+"/iod/";n[t].url=r+f+"/"+e+"/"+n[t].fullstartdate,n[t].portraiturl=r+e+"/"+f+"/"+n[t].fullstartdate}else gr&&(u="_1920x1080.jpg",n[t].url=n[t].urlbase+u)}function ai(i){var r=t+1;lt[r]||r>=fi?at():n[r]?hi(r):rr(r,1,function(n){n?(dt(r,0),hi(r)):at(),typeof i=="function"&&i(n)})}function br(){var n=g_prefetch;n&&(n.Im&&kr(n.Im),n.Vid&&iu(n.Vid))}function kr(n){var t=new Image;t.onload=function(){var t=sj_cook.get("_SS","bIm");t=t&&t.length>=3?t.substring(t.length-3)+n.hash:n.hash,sj_cook.set("_SS","bIm",t,0,"/")},t.src=n[rt]}function iu(n){var t=sj_ce("video","prefVid"),i,u,r;try{t.setAttribute("preload","auto")}catch(f){}for(t.width=956,t.height=512,i=0,u=n.length;i<u;i++)r=sj_ce("source"),r.src=n[i][2],r.type=n[i][1],t.appendChild(r);t.style.display="none",sj_b.appendChild(t),sj_be(t,"canplaythrough",function(){var n=_ge("prefVid");n&&sj_b.removeChild(n)})}function hi(t){if(!lt[t]){at();var i=n[t],r=new Image;r.onload=function(){sj_evt.fire("onHPIVImg"+t,t),lt[t]=1},r.src=i.pano?i.pano.image:_w.g_vidOn&&i.vid?i.vid.image:i[rt]}}function ou(){var i=_ge("audioElm"),t,n;i&&i.pause(),t=_ge("audioMain"),t&&(t.style.display=h),n=_ge("hp_audio_info"),n&&(n.style.display=h)}function kt(n){t==0||k||(t--,ki(),vi(1,t)),typeof n!==u&&n&&sj_pd(n)}function bt(n){if(t<ht-1&&!k&&!ui){var i=t+1;ui=1,lt[i]||ru(),sj_evt.bind("onHPIVImg"+i,hu,1),vi(-1,i)}typeof n!==u&&n&&sj_pd(n)}function hu(n){n[1]==t+1&&(t++,ui=0,ki())}function at(){var i=n[t],e=i[gi]=="1"?ut:ft,h,o,c;i.vid&&(h=i.vid.dark,_ge("sh_pl").parentNode.className=h?"sh_pll":"sh_pld",_ge("sh_ps").parentNode.className=h?"sh_psl":"sh_psd",e=h?ut:ft),o=e+"dis",p.className=e,c=p.href===et?ei:pt,p.style.cursor=c,r.firstChild.className=t===ht-1?o:e,f.firstChild.className=t==0?o:e,r.title=y.previous,f.title=y.next,sj_evt.fire("updateHpImg",i),s&&typeof hpWall!==u&&(i.wp&&!i.vid?(hpWall.enabled=!0,hpWall.hash=i.hsh,s.firstChild.className=e,s.title=y.walls,s.style.cursor=pt):(hpWall.hash="",hpWall.enabled=!1,hpWall.tB(0),s.firstChild.className=o,s.title=y.walle,s.style.cursor=ei))}function ru(){r.title=y.loading}function ki(){var r,t,n;if(k=1,ri&&clearTimeout(ri),ai(),w&&w.disable(),r=_ge("vid"),_w.g_vidOn&&(VM.InFoc=0,r&&r.style.opacity!="0"&&(r.onended=null,VM.hideControls())),_ge("sh_iga")&&ou(),i&&i.style.opacity!="0"){_ge("panoControls").style.visibility=ot,e.style.backgroundImage="url()",t=_ge("sh_pps"),n=_ge("sh_ppl"),t&&n&&(t.style.display=h,t.tabIndex="-1",n.style.display=h,n.tabIndex="-1"),it.down(function(){e.removeChild(i),it=i=null,wi()});return}ii.down(wi)}function wi(){var f;e.style.display=h;var i=n[t],r=_ge("vid"),o=_ge("sc_mktb"),s=n[t].fullstartdate,c=s.substr(0,8)+"_"+s.substr(8,4),u;if(r&&_w.g_vidOn&&VM&&(r.pause&&!r.paused&&r.pause(),r.style.display="none",sj_so(r,0),VM.Loaded=!1,_w.g_vid=null,i.vid)){if(gt(i.vid.caption,i.copyrightlink),u="url('"+i.vid.image+"')",e.style.backgroundImage=u,e.style.display=nr,i.vid.loop){r.onended=VM.play;try{r.setAttribute("loop","true")}catch(l){}}else{r.onended=VM.end;try{r.removeAttribute("loop")}catch(l){}}_w.g_vid=i.vid.sources,VM.InFoc=1,VM.sa_vid_ld(fu),ii.up(pi)}i.pano&&ti(i.pano,!1),i.vid||(gt(i.copyright,i.copyrightlink),u=i[rt],i.pano&&(u=i.pano.image),u="url('"+u+"')",e.style.backgroundImage=u,e.style.filter=sb_i8l?"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i[rt]+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity=0);":"",e.style.display=nr,ii.up(pi)),sj_evt.fire("onHPImgViewerNavigation",c),o&&(f=_ge("hp_husb"),o.style.display=!!f||i.vid||i.pano?"none":"block")}function gt(n,t){var i=typeof t==u||t==""||t==et,r=_ge("musCard");r?p.href=et:(p.title=n,p.href=i?et:t,p.style.cursor=i?ei:pt)}function fu(){var n=_ge("vid");n&&VM&&VM.InFoc&&(VM._autoPlay===!1?VM.pause():VM.play(),VM.Loaded=!0,n.style.display="block",sj_so(n,100))}function pi(){var o,s,v,r,a,h,l,y,i,e,f,c;if(k=0,o=n[t],_w.g_hot&&(!o.pano||o.pano.hs===!0)){for(s=o.hs,i=0,c=s.length;i<c;i++){if(i>=s.length){typeof g_triggerElems!==u&&(g_triggerElems[i].isHotSpotDisabled=!0);continue}else typeof g_triggerElems!==u&&(g_triggerElems[i].isHotSpotDisabled=!1);v=i+1,r=s[i],a=_ge("sc_hst"+v),a.style.left=r.locx+"%",a.style.top=r.locy+"%",h=_ge("sc_hs"+v),h.href=r.link,h.firstChild.innerHTML=r.desc,h.firstChild.nextSibling.innerHTML=r.query}w&&w.intro(1)}var d=_ge("hp_pgNav"),b=d?2:0,p=_ge("hp_pgbar");if(p)for(l=p.getElementsByTagName("h3"),y=o.msg,i=0,c=l.length;i<c;i++){if(e=y[i],!e)break;if(f=l[i+b],!f)break;f.parentNode.id!==pr&&(f.innerHTML=e.title,f.nextSibling.innerHTML=e.text,f.nextSibling.href=e.link)}}function vi(n){if(typeof hpl!==u){if(hpl&&(b=hpl),b&&b.ssd){var i=b.ssd,r=new Date(parseInt(i.substr(0,4),10),i.substr(4,2)-1,parseInt(i.substr(6,2),10)+n);b.ssd=r.getFullYear().toString()+yi(r.getMonth()+1)+yi(r.getDate())+"_"+i.substr(9,4)}b&&(hpl=b)}}function yi(n){return(n<10?"0":"")+n}function er(n){var r,u,t;if(gt(n.cap,n.caplink),n.spots)for(r=0,u=n.spots.length;r<u;r++)t=n.spots[r],Pano.CreateHotspot(t[0],t[1],t[2]);k=1,i.style.opacity=0,e.style.opacity=1,i.style.visibility=l,it.up(function(){var i,t,f,e,r,u;_ge("panoControls").style.visibility=l,i="hpVideoPause",sj_evt.bind(si,function(){Pano.StopAnimation()}),t=!0,n.an===!0&&(f=sj_cook&&sj_cook.get("SRCHHPGUSR","HAP"),f&&f!="0"&&(t=!1),_w.g_hpLocal&&(e=localStorage.getItemE(i),e!=null&&e===1&&(t=!1)),t?ri=sb_st(function(){Pano.IdleAnimate()},500):Pano.StopAnimation()),r=_ge("panoPause"),u=_ge("panoPlay"),r&&u&&(sj_be(r,v,function(){_w.g_hpLocal&&localStorage.setItemE(i,1,1440),Pano.StopAnimation()}),sj_be(u,v,function(){_w.g_hpLocal&&localStorage.removeItem(i),Pano.IdleAnimate(!0)})),k=0})}function o(n){return sj_ce(su,n)}function sr(){var l,u,h,c,f,nt,n,s;if(_ge("panoDiv")||(i=o("panoDiv"),e.appendChild(i),it=_anim.fadeE(i,di)),l=_ge("hp_ctrls"),l&&!_ge("panoControls")){var a=o("panoLeft"),p=o("panoRight"),y=o("panoUp"),b=o("panoDown"),k=o("panoZoomIn"),w=o("panoZoomOut"),r=o("panoPosition");r.appendChild(y),r.appendChild(a),r.appendChild(p),r.appendChild(b),u=o("panoControlSet"),u.appendChild(w),u.appendChild(r),u.appendChild(k),h=o("panoControls"),h.appendChild(u),c=[a,p,y,b,k,w];function t(n,t){Pano.SetCameraFidelity(!1),oi=!1,g(n,t)}function g(n,t){oi==!1?(Pano.MovePano(n,t),sb_st(sj_wf(g,n,t),25)):Pano.SetCameraFidelity(!0)}function d(n){oi=!0;var t=sj_et(n);i&&t.id!="sh_ppl"&&t.id!="sh_pps"&&Pano.StopAnimation()}for(f=0,nt=c.length;f<nt;f++)sj_be(c[f],bi,d);sj_be(_d,bi,d),sj_be(k,v,sj_wf(t,"z",1)),sj_be(w,v,sj_wf(t,"z",-1)),sj_be(_w,uu,function(){i&&Pano.StopAnimation()}),n=.05,s=_G&&_G.RTL===!0,sj_be(a,v,sj_wf(t,"x",s?-n:n)),sj_be(p,v,sj_wf(t,"x",s?n:-n)),sj_be(y,v,sj_wf(t,"y",n)),sj_be(b,v,sj_wf(t,"y",-n)),sj_be(_w,"blur",function(){i&&Pano.StopAnimation()}),l.appendChild(h)}}function ti(n,t){function r(){sr(),n.hs===!1&&w&&w.disable();var u=_w.location.search.indexOf("debug=1")!=-1,r="?h="+_w.location.host,t=sb_gt();Pano.InitializePano(n.url,i,function(){er(n),_w.hp_llog&&hp_llog("Pano",sb_gt()-t)},u,n.pos,n.maxfov,r),sj_evt.fire("onPanoComplete")}_H.startTm&&t&&_w.hp_llog&&hp_llog("PanoStart",sb_gt()-_H.startTm),typeof Pano===u?(sj_evt.bind("onPanoLoad",function(){r()}),sj_jb("HomepagePano_c"),sj_be(_w,"resize",function(){i&&typeof Pano!==u&&typeof Pano.SetViewportSize===lr&&Pano.SetViewportSize(i.offsetWidth,i.offsetHeight)})):r()}function ni(){sj_evt&&sj_evt.fire(si)}function ar(){var o="DHPImpression",e="data-maximpression",f=_ge("dhp"),t,r,i,n,u;if(f&&f.hasAttribute(e)&&(t=parseInt(f.getAttribute(e)),_w.localStorage&&!isNaN(t)))try{if(r=localStorage.getItem(o),i=r!=null?parseInt(r):0,i<t)localStorage.setItem(o,i+1);else return!0}catch(s){HPL_er(s,"checkDHPCookie")}return(n=sj_cook&&sj_cook.get("_UR","D"),u=sj_cook&&sj_cook.get("_UR","DHP"),n&&n!="0"&&n!="1"||u&&u!="0")?!0:!1}function cr(){var t="isHomepage",i="http://"+_d.domain+"/",r=i.replace(/www\./i,""),n=or();return n?li(n,t,i)||li(n,t,r):0}function li(n,t,i){try{return n[t](i)}catch(r){return 0}}function or(){var n=_ge("dhp_detect");return n||(n=sj_ce("span","dhp_detect"),n.style.behavior="url(#default#homepage)",sj_b.appendChild(n)),n}function ci(){if(ar()||cr())c&&(c.style.display=h),wt&&(wt.style.display=h);else if(st&&c&&c.style.display!=h){var n=c.offsetLeft;(!ct||ct&&ct.clientWidth<ur)&&(n-=ur),c.style.visibility=n<st.offsetLeft+st.clientWidth?ot:l}}var pt="pointer",ei="default",u="undefined",lr="function",l="visible",ot="hidden",pr="hp_pgps",g="focus",nt="click",vr="keydown",v="mousedown",bi="mouseup",tt="mouseover",uu="mousewheel",ir="touchstart",si="hpsbact",su="div",wr="dhplink",nr="block",h="none",fi=8,di=500,ht=0,t=0,ui=0,b=null,n=[],lt=[],w,rt="url",gi="bot",e=_ge("bgDiv"),eu=_ge("bgDivPortrait"),r=_ge("sh_igl"),f=_ge("sh_igr"),s=_ge("sh_igw"),k=0,p=_ge("sh_cp"),ut="sc_light",ft="sc_dark",et="javascript:void(0)",a=null,oi=!0,hr="ontouchstart"in _w,i=null,ri=null,d=_ge("sb_form_q"),tr=d&&d.parentNode,y,ii=_anim.fadeE(e,di),it,st=_ge("sc_hdu"),c=_ge("dhp"),wt=_ge("dhplink"),ct=_ge("id_h"),ur=300,gr=nu();if(r&&f&&(_w.hpPanoLoad=function(n){ti(n,!0)},!_w.g_IMVL)){typeof _w.g_IMVL!==u&&(_w.g_IMVL=1),sj_evt.bind("onHPHS",function(n){w=n[1]},1),d&&(sj_be(d,g,ni),sj_be(d,vr,ni),tr&&sj_be(tr,nt,ni)),sj_evt.bind("onRBComplete",function(){var n=_w.sched;_w.g_hptse&&n&&n.schedule({ns:"H",task:function(){n.complete("H")}}),br()},1),st&&(c||wt)&&ct&&(sj_evt.bind(wr,ci,1),sj_be(_w,"resize",ci,!1));var yr=new RegExp("[\\?&]ssd=([^&#]*)"),vt=yr.exec(_w.location.href),fr=1,yt;vt!=null&&vt[1]!=null&&(yt=vt[1].replace("_",""),fr=fi),rr(0,fr,function(i){function u(n){sb_st(sj_wf(ai,n),1),sj_ue(r,tt,u),sj_ue(f,tt,u),sj_ue(r,g,u),sj_ue(f,g,u)}var e,h,p,v,o,w,c;if(i){if(t=0,yt!=null)for(dr(),e=0;e<ht;e++)n[e].fullstartdate==yt&&(t=e);else dt(0,0);y=y||a.tooltips,sj_be(r,nt,bt),sj_be(f,nt,kt),r.firstChild.style.visibility=l,f.firstChild.style.visibility=l,h=_ge("sh_igf"),h&&(h.firstChild.style.visibility=l),p=_ge("sh_pl"),v=_ge("sh_ps"),at(),r.firstChild.className=n[t][gi]=="1"?ut:ft,n[t].pano?ti(n[t].pano,!0):n[t].vid&&(o=n[t].vid.dark,p.parentNode.className=o?"sh_pll":"sh_pld",v.parentNode.className=o?"sh_psl":"sh_psd",r.firstChild.className=o?ut:ft),w=function(i){sj_pd(i),t==0&&n&&n.length==1?u(sj_wf(bt,i)):bt(i)},c=function(i){sj_pd(i),t==0&&n&&n.length==1?u(sj_wf(kt,i)):kt(i)},hr&&(sj_be(r,ir,w),sj_be(f,ir,c)),sj_be(r,tt,u),sj_be(f,tt,u),sj_be(r,g,u),sj_be(f,g,u),s&&hpWall&&(_G.Mkt=="zh-CN"?sj_be(s,nt,hpWall.dLFree):sj_be(s,nt,hpWall.dL))}}),function(){var p="px",et="click",w="block",ut="none",v="height",y="HPTBD",n=400,k=35,ft=1,rt=.5,b=_ge("sh_igf"),f=_ge("hp_sw_hdr"),t=f.style,o=_ge("sb_foot"),a=_ge("sb_form_q"),c=a&&a.parentNode,h=_ge("sh_fu"),r,e,u,i=!1;if(b&&f&&o&&c){var nt=function(){r=_anim.animE(f,v,0,k,{duration:n,unit:p}),e=_anim.animE(o,v,0,k,{duration:n,unit:p}),u=_anim.fadeE(c,n,n,rt,ft),sj_be(b,et,d),sj_evt.bind(si,s)},it=function(){t.display=ut,t.overflow=l,i=!0,sj_evt.fire(y)},g=function(){t.overflow=l,i=!1,sj_evt.fire(y)},d=function(n){i?s():tt(),sj_pd(n)},tt=function(){i||(t.display=w,t.overflow=ot,_w.bhptb&&bhptb.hide&&bhptb.hide(n),_w.bhppgb&&bhppgb.hide&&bhppgb.hide(n),_w.bhpnav&&bhpnav.hide&&bhpnav.hide(),r.revert(it),e.revert(),u.down(),h.className="hpcSmall")},s=function(){i&&(t.display=w,t.overflow=ot,_w.bhptb&&bhptb.show&&bhptb.show(n),_w.bhppgb&&bhppgb.show&&bhppgb.show(n),_w.bhpnav&&bhpnav.show&&bhpnav.show(),r.start(g),e.start(),u.up(),h.className="hpcFull")};nt()}}()}},sj_evt.bind("onBgSet",ImgViewer,1)